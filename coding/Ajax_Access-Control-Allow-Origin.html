<!DOCTYPE html>
<html lang="zh">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="width=device-width" name="viewport">
    <title>Windgrass_Blog</title>
    <link href="https://www.baile666.com/" rel="index">
    <link href="../assets/main.min.css" rel="stylesheet" media="screen">
    <link href="../assets/print.min.css" rel="stylesheet" media="print">
    <script defer="" src="../assets/main.min.js"></script>
</head>
<body>
<header>
    <h1><a href="https://www.baile666.com/">
<!--         <svg aria-labelledby="logo-title" height="272" role="img" viewBox="0 0 532.117 272" width="532.117"><title
        id="logo-title">Windgrass</title>
    <path d="M386.865 54.258c-12.844 0-20.681 5.008-25.252 12.627-4.571 7.619-6.096 18.068-6.096 28.734v11.102h23.512V95.619c0-5.224.435-10.014 1.523-13.715 1.088-3.483 3.047-5.877 6.313-5.877 3.483 0 5.443 2.831 6.531 6.531 1.088 3.701 1.305 8.707 1.305 13.061-.218 9.796-3.047 20.679-6.748 31.781s-8.489 21.988-13.496 31.566a409.775 409.775 0 0 1-19.592 33.74v23.293h63.781v-23.293h-37.223c6.095-10.231 15.237-26.558 23.074-44.844 7.619-18.068 13.715-37.441 13.715-53.768 0-11.102-1.742-21.115-6.531-28.299-4.788-6.964-12.843-11.537-24.816-11.537zM16 56v160h23.51v-69.66h18.287V216h23.51V56h-23.51v66.178H39.51V56zm118.682 0l-24.164 160h22.857l4.354-32.652h22.641L164.724 216h22.857L163.416 56zm81.715 0v160h23.51V56zm58.957 0v160h54.641v-21.769h-31.132V56zm178.07 0v127.129c.218 6.531 1.523 12.409 3.918 17.416 1.959 4.354 4.789 8.489 9.143 11.754 4.354 3.483 10.45 5.443 18.287 5.443s13.715-1.96 18.068-5.443c4.354-3.265 7.4-7.4 9.359-11.754 2.395-5.007 3.7-10.885 3.918-17.416V56h-23.51v127.129c0 2.395-.218 4.353-.871 5.877-.871 3.265-2.829 5.879-6.965 5.879-1.959 0-3.484-.654-4.572-1.742-2.177-2.395-3.266-5.442-3.266-10.014V56zm-305.028 47.891h1.305l.654 4.137 6.748 50.504h-16.109l6.748-50.504z"></path>
</svg> -->
    </a></h1>
    <nav>
        <ul>
            <li><a href="https://www.baile666.com/blog/">随笔</a></li>
            <li><a href="https://www.baile666.com/documents/">开发</a></li>
            <li><a href="https://www.baile666.com/read/">阅读</a></li>
            <li><a href="https://hail2u.net/#site_search" id="site_search_icon">
                <svg aria-labelledby="site-search-anchor-title" height="512" role="img" viewBox="0 0 512 512"
                     width="512"><title id="site-search-anchor-title">Search</title>
                    <path d="M208 64a144.1 144.1 0 0 0-55.094 10.969 144.155 144.155 0 0 0-46.718 31.219 144.155 144.155 0 0 0-31.219 46.718A144.1 144.1 0 0 0 64 208a144.1 144.1 0 0 0 10.969 55.094 144.186 144.186 0 0 0 31.219 46.719 144.175 144.175 0 0 0 46.719 31.219A144.108 144.108 0 0 0 208 352a144.1 144.1 0 0 0 55.094-10.969 144.12 144.12 0 0 0 28.313-15.656L414.063 448 448 414.063 325.375 291.406a144.092 144.092 0 0 0 15.656-28.313A144.09 144.09 0 0 0 352 208a144.1 144.1 0 0 0-10.969-55.094 144.168 144.168 0 0 0-31.218-46.718 144.17 144.17 0 0 0-46.719-31.219A144.1 144.1 0 0 0 208 64zm0 48c12.527 0 25.177 2.519 36.75 7.313s22.267 11.955 31.125 20.813c8.858 8.858 16.019 19.552 20.813 31.125 4.794 11.573 7.313 24.223 7.313 36.75 0 12.527-2.519 25.177-7.313 36.75s-11.955 22.267-20.813 31.125c-8.858 8.858-19.552 16.019-31.125 20.813C233.177 301.481 220.527 304 208 304c-12.527 0-25.177-2.519-36.75-7.313s-22.267-11.955-31.125-20.813c-8.858-8.858-16.019-19.552-20.813-31.125C114.519 233.177 112 220.527 112 208c0-12.527 2.519-25.177 7.313-36.75s11.955-22.267 20.813-31.125c8.858-8.858 19.552-16.019 31.125-20.813C182.823 114.519 195.473 112 208 112z"></path>
                </svg>
            </a></li>
        </ul>
    </nav>
    <p>开发</p></header>
<main>
    <article>
        <footer>
            <p>
                <time class="js-reldate" datetime="2017-05-05T22:20:00+09:00" title="2017-05-05T22:20:00+09:00"></time>
            </p>
        </footer>

        <h1>Ajax跨域请求简单解决方法</h1>

        <p>ajax跨域访问是一个老问题了，解决方法很多，比较常用的是JSONP方法。<br/>JSONP方法是一种非官方方法，而且这种方法只支持GET方式，不如POST方式安全。  </p>

        <p>即使使用jQuery的jsonp方法，type设为POST，也会自动变为GET。  </p>

        <h3>官方问题说明：</h3>

        <blockquote><p>“script”: Evaluates the response as JavaScript and returns it as plain text. Disables caching by appending a query string parameter, “_=[TIMESTAMP]“, to the URL unless the cache option is set to true.Note: This will turn POSTs into GETs for remote-domain requests.</p></blockquote>

        <hr/>

        <h3>设置Access-Control-Allow-Origin来实现跨域访问比较简单</h3>

        <p>例如：客户端的域名是www.client.com,而请求的域名是www.server.com<br/>如果直接使用ajax访问，会有以下错误  </p>

        <blockquote><p>XMLHttpRequest cannot load http://www.server.com/server.PHP. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.Origin &#39;http://www.client.com&#39; is therefore not allowed access.</p></blockquote>

        <h3>在被请求的Response header中加入</h3>

        <p><code>
            // 指定允许其他域名访问
            header(&#39;Access-Control-Allow-Origin:*&#39;);
            // 响应类型
            header(&#39;Access-Control-Allow-Methods:POST&#39;);
            // 响应头设置
            header(&#39;Access-Control-Allow-Headers:x-requested-with,content-type&#39;);
        </code>
            就可以实现ajax POST跨域访问了</p>

    </article>
</main>
<aside role="search">
    <form action="https://www.google.com/search"><input name="as_sitesearch" type="hidden" value="Windgrass"> <input
            name="q" type="search" aria-label="搜索" id="site_search" placeholder="例: 葫芦娃" required="" size="32">
        <button type="submit">
            <svg aria-labelledby="site-search-submit-title" height="512" role="img" viewBox="0 0 512 512" width="512">
                <title id="site-search-submit-title">搜索</title>
                <path d="M208 64a144.1 144.1 0 0 0-55.094 10.969 144.155 144.155 0 0 0-46.718 31.219 144.155 144.155 0 0 0-31.219 46.718A144.1 144.1 0 0 0 64 208a144.1 144.1 0 0 0 10.969 55.094 144.186 144.186 0 0 0 31.219 46.719 144.175 144.175 0 0 0 46.719 31.219A144.108 144.108 0 0 0 208 352a144.1 144.1 0 0 0 55.094-10.969 144.12 144.12 0 0 0 28.313-15.656L414.063 448 448 414.063 325.375 291.406a144.092 144.092 0 0 0 15.656-28.313A144.09 144.09 0 0 0 352 208a144.1 144.1 0 0 0-10.969-55.094 144.168 144.168 0 0 0-31.218-46.718 144.17 144.17 0 0 0-46.719-31.219A144.1 144.1 0 0 0 208 64zm0 48c12.527 0 25.177 2.519 36.75 7.313s22.267 11.955 31.125 20.813c8.858 8.858 16.019 19.552 20.813 31.125 4.794 11.573 7.313 24.223 7.313 36.75 0 12.527-2.519 25.177-7.313 36.75s-11.955 22.267-20.813 31.125c-8.858 8.858-19.552 16.019-31.125 20.813C233.177 301.481 220.527 304 208 304c-12.527 0-25.177-2.519-36.75-7.313s-22.267-11.955-31.125-20.813c-8.858-8.858-16.019-19.552-20.813-31.125C114.519 233.177 112 220.527 112 208c0-12.527 2.519-25.177 7.313-36.75s11.955-22.267 20.813-31.125c8.858-8.858 19.552-16.019 31.125-20.813C182.823 114.519 195.473 112 208 112z"></path>
            </svg>
        </button>
    </form>
</aside>
<footer>
    <ul>
        <li><a href="https://hail2u.net">致敬</a></li>
        <!-- <li><a href="https://creativecommons.org/licenses/by/4.0/" rel="license">CC/BY</a></li> -->
        <!-- <li><a href="https://hail2u.net/feed" rel="alternate" type="application/rss+xml">RSS</a></li> -->
    </ul>
    <!-- <address><a href="https://kyonagashima.com/" rel="author">ながしまきょう</a>が作っています</address> -->
</footer>
<div id="qq-sendUrl-btn"></div>
</body>
</html>